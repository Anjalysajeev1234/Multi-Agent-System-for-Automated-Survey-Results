# ======= FAST MINI RUN (â‰ˆ1 min) =======
seed: 42

data:
  documents_path: "./data/mini_documents.jsonl"
  questions_path: "./data/mini_dev.json"
  embeddings_path: "./data/id_to_embedding.npz"   # unused in this fast config

index:
  output_dir: "./artifacts/index"
  force_rebuild: false

  # Build only TF-IDF (fast). Disable Whoosh & FAISS for speed.
  build_sparse: true
  build_whoosh: false
  whoosh_index_dir: "./artifacts/whoosh_index"
  build_dense: false
  faiss_type: "flat"

tfidf:
  ngram_min: 1
  ngram_max: 1
  max_features: 20000     # smaller = faster on mini
  min_df: 1

whoosh:
  index_dir: "./artifacts/whoosh_index"
  hits_per_query: 200     # ignored when build_whoosh=false

retrieval:
  sparse_backend: "tfidf" # fastest path
  fanout: true           # single query only (fewer calls, faster)
  fusion: "single"        # no RRF when not needed
  top_k_sparse: 120       # shortlist size before dedup (keep small)
  min_candidates: 60

filtering:
  dedup_sim_thresh: 0.985  # quick near-dup prune

labeling:
  provider: "llm"
  model: "Qwen/Qwen2.5-7B-Instruct-Turbo"
  batch_size: 4
  max_output_tokens: 256
  temperature: 0.2
  top_docs_for_label: 10


calibration:
  dirichlet_alpha: 0.2
  temperature: 0.9

supports:
  size: 100                # <= mini has 50 docs; pick 50 to avoid padding work , 100 for documents.json


run:
  output_csv: "./artifacts/submission.csv"
  audit_log: "./artifacts/audit.jsonl"
  per_question_time_cap_sec: 15.0   # guardrail (optional)
